import"../chunks/DsnmJJEf.js";import"../chunks/CNpd2iJ4.js";import{ai as g,K as D,R as U,ac as a,aj as c,ak as d,a6 as _,a4 as W,a7 as q,a5 as A,P as F,af as L,a8 as N,ag as O}from"../chunks/qIE3DY2X.js";import{d as R,e as y}from"../chunks/Dn8DWOG3.js";import{s as w}from"../chunks/Hd1O0c5T.js";import{b as E}from"../chunks/BbjDakWg.js";class o{x;y;constructor(t,e){this.x=t,this.y=e}static get Zero(){return new o(0,0)}get Magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}Add(t){return new o(this.x+t.x,this.y+t.y)}Sub(t){return new o(this.x-t.x,this.y-t.y)}Scale(t){return new o(this.x*t,this.y*t)}Dot(t){return this.x*t.x+this.y*t.y}Lerp(t,e){return new o(this.lerp(this.x,t.x,e),this.lerp(this.y,t.y,e))}lerp(t,e,r){return(1-r)*t+r*e}}const m={UP:"up",DOWN:"down"};class Z{inCanvas;position;leftButton;rightButton;ButtonState=m;constructor(){this.inCanvas=!1,this.position=o.Zero,this.leftButton=m.UP,this.rightButton=m.UP}}const n=g(new Z);class j{constructor(t){this.position=t}}class v extends j{constructor(t,e){super(t),this.radius=e}UpdatePosition(t){return new v(t,this.radius)}Render(t){t.beginPath(),t.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),t.fillStyle="#fff",t.fill()}WithinBounds(t){const e=t.Sub(this.position);return e.x<=this.radius||e.y<=this.radius}}var k=_('<canvas class="rounded-box bg-base-200" draggable="false"><!></canvas>');function I(h,t){D(t,!0);let e=c(0),r=c(void 0),l=g([]),u=c(void 0);U(()=>{requestAnimationFrame(s=>x(s))});function x(s){if(!a(r))return;const f=a(r).getContext("2d");f.reset(),n.inCanvas&&n.leftButton==n.ButtonState.DOWN&&a(u)&&d(u,a(u).UpdatePosition(a(u).position.Lerp(n.position,s*.02)),!0),l.forEach(p=>p.Render(f)),requestAnimationFrame(p=>{x(p-a(e)),d(e,p,!0)})}function B(s){n.inCanvas=!0}function b(s){n.inCanvas=!1}function M(s){s.preventDefault(),n.leftButton=n.ButtonState.DOWN,n.position=new o(s.x,s.y),d(u,l.find(f=>f.WithinBounds(n.position)),!0),a(u)||l.push(new v(n.position,10))}function S(s){s.preventDefault(),n.leftButton=n.ButtonState.UP,d(u,void 0)}function P(s){n.position=new o(s.x,s.y)}var i=k();i.__mousedown=M,i.__mouseup=S,i.__mousemove=P;var C=L(i);W(C,()=>t.children??N),O(i),E(i,s=>d(r,s),()=>a(r)),q(()=>{w(i,"height",t.dimensions.height),w(i,"width",t.dimensions.width)}),y("mouseenter",i,B),y("mouseleave",i,b),A(h,i),F()}R(["mousedown","mouseup","mousemove"]);function Q(h){I(h,{dimensions:{height:500,width:700}})}export{Q as component};
